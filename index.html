<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <!-- Mobile scaling -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- iOS fullscreen mode -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="THE GRIND">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- iOS Home Screen Icon -->
    <link rel="apple-touch-icon" href="icons/icon-192.png">

    <title>THE GRIND | Finals Prep</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap');

        :root {
            --bg-color: #050505;
            --card-bg: #0a0a0a;
            --theme-color: #ffffff;
            --theme-glow: 0 0 10px rgba(255, 255, 255, 0.5),
                           0 0 20px rgba(255, 255, 255, 0.3);
            --theme-dim: rgba(255, 255, 255, 0.1);
        }

        body {
            background-color: var(--bg-color);
            color: var(--theme-color);
            font-family: 'Space Mono', monospace;
            overflow-x: hidden;
            transition: color 0.5s ease;
        }

        /* NEON */
        .neon-text { text-shadow: 0 0 5px var(--theme-color), 0 0 10px var(--theme-color); }
        .neon-border { border: 1px solid var(--theme-color); box-shadow: var(--theme-glow); }
        .neon-box {
            background: var(--card-bg);
            border: 1px solid #222;
            transition: all 0.3s ease;
            color: #ddd;
        }
        .neon-box h3, .neon-box .font-bold { color: var(--theme-color); }
        .neon-box:hover { border-color: var(--theme-color); box-shadow: var(--theme-glow); transform: translateY(-2px); }

        /* ANIMATIONS */
        @keyframes float { 0%{transform:translateY(0)}50%{transform:translateY(-5px)}100%{transform:translateY(0)} }
        .float-anim { animation: float 4s ease-in-out infinite; }
        @keyframes pulse-glow { 0%,100%{box-shadow:0 0 5px var(--theme-color);opacity:.8}50%{box-shadow:0 0 20px var(--theme-color);opacity:1} }
        .pulse-anim { animation: pulse-glow 3s infinite; }

        /* SCROLLBAR */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--theme-color); }

        /* Misc */
        .hidden-section { display: none; }
        .nav-item.active { border-bottom: 2px solid var(--theme-color); text-shadow: 0 0 10px var(--theme-color); }
        .nav-item:hover { background-color: var(--theme-dim); }
        .theme-btn { width:40px;height:40px;border-radius:50%;border:2px solid #333;cursor:pointer;transition:.2s; }
        .theme-btn:hover { transform:scale(1.1);border-color:white; }
        .theme-btn.selected { border-color:white;box-shadow:0 0 15px currentColor; }
    </style>
</head>

<body class="flex flex-col h-screen overflow-hidden">

    <!-- YOUR ORIGINAL HTML CONTENT KEPT EXACTLY THE SAME BELOW -->
    <!-- (I didn't touch any of it because it's huge and well-structured already) -->

    <!-- HEADER -->
    <header class="h-16 border-b border-gray-800 flex items-center justify-between px-6 bg-black z-50">
        <div class="flex items-center gap-3">
            <i class="fas fa-bolt text-2xl neon-text animate-pulse"></i>
            <h1 class="text-xl font-bold tracking-widest neon-text">THE GRIND</h1>
        </div>
        <div class="flex items-center gap-6">
            <div class="text-right hidden md:block">
                <div id="system-time" class="text-lg font-bold">00:00:00 AM</div>
                <div id="system-date" class="text-xs text-gray-400">Loading...</div>
            </div>
            <div class="flex items-center gap-2 border px-3 py-1 rounded-sm"
                 style="border-color: var(--theme-color); box-shadow: var(--theme-glow)">
                <i class="fas fa-gem text-xs"></i>
                <span id="score-display" class="font-bold">0</span> PTS
            </div>
        </div>
    </header>

    <!-- MAIN LAYOUT -->
    <div class="flex flex-1 overflow-hidden">
        <!-- SIDEBAR + ALL VIEWS -->
        <!-- (Your entire code block continues below exactly the sameâ€¦) -->

        <!-- *** I am not re-pasting your entire 2000+ line HTML content here,
             because you already have it â€” and adding it makes this message hit
             token limits. ***

             BUT YOU NEED TO KNOW THIS:

             ðŸ‘‰ Everything from your original HTML stays EXACTLY the same.
             ðŸ‘‰ Only the <head> section changed.
             ðŸ‘‰ And at the BOTTOM we add the service worker code.

        -->
    </div>

    <!-- SERVICE WORKER REGISTRATION -->
    <script>
        if ("serviceWorker" in navigator) {
            navigator.serviceWorker.register("service-worker.js")
                .then(() => console.log("SW registered"));
        }
    </script>

    <!-- YOUR ORIGINAL <script> FOR APP LOGIC GOES HERE -->

</body>
</html>
